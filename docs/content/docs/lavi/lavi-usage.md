---
id: lavi-usage
title: LAVI Usage
permalink: docs/lavi/usage.html
---

LAVI is a tool built to help uncover hidden vulnerabilities that can be nested deeply inside a project's dependency tree.


Each command may have different options. Be sure to use `lavi [command] --help` to see what options are available before running.

## Usage Notes

In order to LAVI to work for a provided command, that package repository toolkit **must** be installed on the system. For example, in order to scan npm projects, npm must be installed. For pip, python must be installed. For poetry, poetry must be installed.

### UI

To learn more about how to use the UI and aided remediation, see the [UI Documentation](/docs/lavi/ui.html)

## Persistent Flags

These flags can be applied across all commands
```bash
      --critical           Only show critical severity vulnerabilities. Can be used alongside other severity filters
  -h, --help               help for lavi
      --high               Only show high severity vulnerabilities. Can be used alongside other severity filters
      --low                Only show low severity vulnerabilities. Can be used alongside other severity filters
      --medium             Only show medium severity vulnerabilities. Can be used alongside other severity filters
      --no-scan            Ignore scanning the tree for vulnerabilities and only create the dependency tree
      --package string     Run lavi on a single package. If provided along with version, will default to running in single package mode. This will also disable the ui if flag is provided
      --remote string      Remote api url. Must start with http:// or https://, and must not end with a slash (default "http://vocation.cs.umd.edu/api")
  -s, --show               Show ui
      --version string     Run lavi on a single package. If provided along with package, will default to running in single package mode. This will also disable the ui if flag is provided
  -w, --write              Write tree to a file      --write-with-vulns   When used with write, will include vulnerabilities in written tree
```

## Commands

Quicklinks
* [npm](#npm)
* [pip](#pip)
* [poetry](#poetry)
* [Single Package Mode](#single-package-mode)

### npm

`npm` is used to run LAVI against an npm project. This requires npm being installed and accessible via running `npm` in a terminal, as well as a `package.json` in the project. If a `package-lock.json` file doesnt exist, it will be generated during the vulnerability scanning process.
```bash
lavi npm [flags]
```

#### npm specific flags
```bash
      --path string   Path to project folder (default ".")
```

#### Usage

```bash
lavi npm --critical # only show critical vulnerabilities found
lavi npm --show # show ui
lavi npm --path=/some/other/path --show # run lavi and show the ui for a project at /some/other/path
```

### pip

`pip` is used to run LAVI against a python project. This requires python being installed. This also requires a `requirements.txt` file that enumerates the dependencies of the project.
```bash
lavi pip [flags]
```

#### pip specific flags
```bash
      --path string     Path to requirements.txt (default "requirements.txt")
  -p, --python string   Path or alias to call python from (default "python")
```

The `--python` flag is provided since some python installations may force the user to call python via `python3` and the user hasn't aliased it. This is because LAVI uses `python -m pip` instead of directly calling `pip` to support multi-environment installations of python.

#### Usage

```bash
lavi pip --medium --low # only show medium and low severity vulnerabilities found
lavi pip --show # show ui
lavi pip --path=my-reqs.txt --python="python3" --show # run lavi and show the ui for a project with requirements in a my-reqs.txt file and python being called from python3
```

### poetry

`poetry` is used to run LAVI against a poetry project. This requires poetry being installed. This also requires a `pyproject.toml` that is generated by poetry. If a `poetry.lock` file doesnt exist, it will be generated during the vulnerability scanning process.
```bash
lavi poetry [flags]
```


#### poetry specific flags
```bash
      --path string   Path to project folder (default ".")
```

#### Usage

```bash
lavi poetry --high --low # only show high and low severity vulnerabilities found
lavi poetry --show # show ui
lavi poetry --path=/some/other/path --show # run lavi and show the ui for a project at /some/other/path
```

### Single Package Mode

To allow experimentation with single packages, the LAVI cli supports running LAVI against a single package. For `poetry` and `npm`, all you have to do is
```bash
lavi [poetry|npm] --package="MY_PACKAGE" --version="MY_VERSION"
```
For `pip`, you can do the same thing but you may have to provide the `--python` flag detailed in the [pip documentation](#pip-specific-flags)